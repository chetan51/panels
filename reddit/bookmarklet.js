
(function(){var panel,panel_close_button,panel_frame,panel_html,panel_status,style;style=&quot;&lt;style type=\&quot;text/css\&quot;&gt;\n #reddit-panel {\n  display: none;\n  position: fixed;\n  bottom: 0;\n  z-index: 999999;\n  \n  width: 100%25;\n  height: 40px;\n\n  border: 0;\n  background: #fff;\n  \n  -moz-box-shadow: rgba(0, 0, 0, 0.2) 0 -5px 6px 0;\n  -webkit-box-shadow: rgba(0, 0, 0, 0.2) 0 -5px 6px 0;\n  -o-box-shadow: rgba(0, 0, 0, 0.2) 0 -5px 6px 0;\n  box-shadow: rgba(0, 0, 0, 0.2) 0 -5px 6p;\n }\n \n #reddit-panel .close-button {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  color: #999;\n  cursor: auto;\n  display: block;\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-size: 18px;\n  height: 10px;\n  width: 11px;\n  line-height: 10px;\n  text-decoration: none;\n }\n \n #reddit-panel .status {\n  text-align: center;\n  padding-top: 10px;\n  font-family: Verdana;\n  font-size: 12px;\n }\n \n #reddit-panel .frame {\n  display: none;\n  width: 100%25;\n  height: 100%25;\n  border: 0;\n }\n&lt;/style&gt;&quot;;$(&quot;head&quot;).append(style);panel_html=&quot;&lt;div id=\&quot;reddit-panel\&quot; class=\&quot;panel\&quot;&gt;\n &lt;div class=\&quot;close\&quot;&gt;\n  &lt;a href=\&quot;#\&quot; class=\&quot;close-button\&quot;&gt;&amp;times;&lt;/a&gt;\n &lt;/div&gt;\n &lt;div class=\&quot;status\&quot;&gt;\n  Loading...\n &lt;/div&gt;\n &lt;iframe class=\&quot;frame\&quot; /&gt;\n&lt;/div&gt;&quot;;panel=$(&quot;#reddit-panel&quot;);if(panel.length){if(panel.is(&quot;:visible&quot;)){panel.slideUp(&quot;fast&quot;);}else{panel.slideDown(&quot;fast&quot;);}}else{panel=$(panel_html);panel_status=panel.find(&quot;.status&quot;);panel_frame=panel.find(&quot;.frame&quot;);panel.appendTo(&quot;body&quot;);panel.slideDown(&quot;fast&quot;);$.getJSON(&quot;http://www.reddit.com/api/info.json?count=1&amp;jsonp=?&amp;url=&quot;+encodeURI(window.location),function(data){var link,_ref,_ref2,_ref3;link=data!=null?(_ref=data.data)!=null?(_ref2=_ref.children[0])!=null?(_ref3=_ref2.data)!=null?_ref3.permalink:void 0:void 0:void 0:void 0;if(link){return panel_frame.attr(&quot;src&quot;,&quot;http://www.reddit.com&quot;+link);}else{return panel_frame.attr(&quot;src&quot;,&quot;http://www.reddit.com/submit?url=&quot;+encodeURIComponent(document.location)+&quot;&amp;title=&quot;+encodeURIComponent(document.title));}});panel_frame.bind(&quot;load&quot;,function(){panel_status.fadeOut(&quot;fast&quot;);panel_frame.fadeIn(&quot;fast&quot;);return panel.animate({height:&quot;60%25&quot;});});}
panel_close_button=panel.find(&quot;.button&quot;);panel_close_button.click(function(){return panel.slideUp(&quot;fast&quot;);});}).call(this);
